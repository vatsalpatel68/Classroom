{"ast":null,"code":"var _jsxFileName = \"/root/Desktop/client/src/components/joiningRequest.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport JoiningRequestHeader from \"./joiningRequestHeader\";\n\nclass JoiningRequest extends Component {\n  constructor() {\n    super();\n\n    this.acceptUser = e => {\n      axios.post(\"http://localhost:5000/faculty/approveReject\", {\n        id: e.target.value,\n        type: e.target.name,\n        process: \"approve\"\n      }).then(resFromBE => {\n        this.setState({\n          count: this.count - 1\n        });\n      });\n    };\n\n    this.rejectUser = e => {\n      axios.post(\"http://localhost:5000/faculty/approveReject\", {\n        id: e.target.value,\n        type: e.target.name,\n        process: \"reject\"\n      }).then(resFromBE => {\n        this.setState({\n          count: this.count - 1\n        });\n      });\n    };\n\n    this.state = {\n      data: [],\n      count: 0\n    };\n  }\n\n  componentDidMount() {\n    axios.post(\"http://localhost:5000/faculty/joiningRequest\", {\n      id: this.props.match.params.id\n    }).then(resFromDb => {\n      console.log(resFromDb);\n      this.setState({\n        data: resFromDb.data.data,\n        count: resFromDb.data.data.length\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.count !== this.state.count) {\n      axios.post(\"http://localhost:5000/faculty/joiningRequest\", {\n        id: this.props.match.params.id\n      }).then(resFromDb => {\n        this.setState({\n          data: resFromDb.data.data,\n          count: resFromDb.data.data.length\n        });\n      });\n    }\n  }\n\n  render() {\n    if (this.state.data.length > 0) {\n      var a = this.state.data.map(once => {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: once._id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 20\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 24\n          }\n        }, once.type), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 24\n          }\n        }, once._id), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 24\n          }\n        }, once.name), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 24\n          }\n        }, once.username), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 24\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          value: once._id,\n          name: once.type,\n          onClick: this.acceptUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 28\n          }\n        }, \"Accept\")), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 24\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          value: once._id,\n          name: once.type,\n          onClick: this.rejectUser,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 28\n          }\n        }, \"Reject\")));\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, this.state.count > 0 ? /*#__PURE__*/React.createElement(JoiningRequestHeader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 45\n      }\n    }) : /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 70\n      }\n    }, \"No Pending request is present\"), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, a)));\n  }\n\n}\n\nexport default JoiningRequest;","map":{"version":3,"sources":["/root/Desktop/client/src/components/joiningRequest.js"],"names":["React","Component","axios","JoiningRequestHeader","JoiningRequest","constructor","acceptUser","e","post","id","target","value","type","name","process","then","resFromBE","setState","count","rejectUser","state","data","componentDidMount","props","match","params","resFromDb","console","log","length","componentDidUpdate","prevProps","prevState","render","a","map","once","_id","username"],"mappings":"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","sourcesContent":["import React , { Component } from 'react';\nimport axios from 'axios';\nimport JoiningRequestHeader from \"./joiningRequestHeader\";\n\nclass JoiningRequest extends Component{\n\n    constructor(){\n        super();\n        this.state = {\n            data : [],\n            count : 0\n        }\n    }\n    componentDidMount(){\n        axios.post(\"http://localhost:5000/faculty/joiningRequest\" , {\n            id : this.props.match.params.id\n        })\n        .then(resFromDb => { \n            console.log(resFromDb);\n            this.setState({\n                data : resFromDb.data.data,\n                count : resFromDb.data.data.length\n            })\n        })\n\n    }\n\n    componentDidUpdate(prevProps,prevState){\n        if(prevState.count !== this.state.count){\n            axios.post(\"http://localhost:5000/faculty/joiningRequest\" , {\n                id : this.props.match.params.id\n            })\n            .then(resFromDb => { \n                this.setState({\n                    data : resFromDb.data.data,\n                    count : resFromDb.data.data.length\n                })\n            })\n        }\n    }\n\n    acceptUser = (e) =>{\n        axios.post(\"http://localhost:5000/faculty/approveReject\", {\n            id : e.target.value,\n            type : e.target.name,\n            process : \"approve\"\n        })\n        .then(resFromBE => {\n\n            this.setState({\n                count : this.count - 1\n            })\n        })\n    }\n\n    rejectUser = (e) =>{\n        axios.post(\"http://localhost:5000/faculty/approveReject\" , {\n            id : e.target.value,\n            type : e.target.name,\n            process : \"reject\"\n        })\n        .then(resFromBE => {\n            this.setState({\n                count : this.count - 1\n            })\n        })\n    }\n\n    render(){\n        if(this.state.data.length > 0)\n        {\n            var a = this.state.data.map(once => {\n               return(\n                   <tr key = {once._id}>\n                       <td>{once.type}</td>\n                       <td>{once._id}</td>\n                       <td>{once.name}</td>\n                       <td>{once.username}</td>\n                       <td><button value = {once._id} name = {once.type} onClick = {this.acceptUser}>Accept</button></td>\n                       <td><button value = {once._id} name = {once.type} onClick = {this.rejectUser}>Reject</button></td>\n                    </tr>  \n        \n               )\n            })\n        }\n        return(\n            <React.Fragment>\n                <table>\n                    {this.state.count > 0 ? <JoiningRequestHeader />:<h1>No Pending request is present</h1>}\n                <tbody>\n                    {a}\n                </tbody>\n                </table>\n            </React.Fragment>\n        )\n    }\n}\n\n\nexport default JoiningRequest;\n"]},"metadata":{},"sourceType":"module"}